<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="AI Semantic Understanding Interface"><title>EmbeddingProvider in mcb_providers - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="mcb_providers" data-themes="" data-resource-suffix="" data-rustdoc-version="1.93.1 (01f6ddf75 2026-02-11)" data-channel="1.93.1" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-a410ff4d.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">EmbeddingProvider</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../mcb_providers/index.html">mcb_<wbr>providers</a><span class="version">0.2.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Embedding<wbr>Provider</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#default-implementations" title="Default Implementations">Default Implementations</a></li><li><a href="#example" title="Example">Example</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.dimensions" title="dimensions">dimensions</a></li><li><a href="#tymethod.embed_batch" title="embed_batch">embed_batch</a></li><li><a href="#tymethod.provider_name" title="provider_name">provider_name</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.embed" title="embed">embed</a></li><li><a href="#method.health_check" title="health_check">health_check</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate mcb_<wbr>providers</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">mcb_providers</a></div><h1>Trait <span class="trait">Embedding<wbr>Provider</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/mcb_domain/ports/providers/embedding.rs.html#45">Source</a> </span></div><pre class="rust item-decl"><code>pub trait EmbeddingProvider: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> {
    // Required methods
    fn <a href="#tymethod.embed_batch" class="fn">embed_batch</a>&lt;'life0, 'life1, 'async_trait&gt;(
        &amp;'life0 self,
        texts: &amp;'life1 [<a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>],
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.93.1/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../mcb_domain/value_objects/embedding/struct.Embedding.html" title="struct mcb_domain::value_objects::embedding::Embedding">Embedding</a>&gt;, <a class="enum" href="enum.Error.html" title="enum mcb_providers::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             'life1: 'async_trait,
             Self: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.dimensions" class="fn">dimensions</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/std/primitive.usize.html">usize</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.provider_name" class="fn">provider_name</a>(&amp;self) -&gt; &amp;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/std/primitive.str.html">str</a>;

    // Provided methods
    fn <a href="#method.embed" class="fn">embed</a>&lt;'life0, 'life1, 'async_trait&gt;(
        &amp;'life0 self,
        text: &amp;'life1 <a class="primitive" href="https://doc.rust-lang.org/1.93.1/std/primitive.str.html">str</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.93.1/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../mcb_domain/value_objects/embedding/struct.Embedding.html" title="struct mcb_domain::value_objects::embedding::Embedding">Embedding</a>, <a class="enum" href="enum.Error.html" title="enum mcb_providers::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             'life1: 'async_trait,
             Self: 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.health_check" class="fn">health_check</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.93.1/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum mcb_providers::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: 'async_trait</span> { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>AI Semantic Understanding Interface</p>
<p>Defines the business contract for AI providers that transform text into
semantic embeddings. This abstraction enables the platform to work with
any AI service that can understand code semantics, from enterprise <code>OpenAI</code>
deployments to self-hosted Ollama instances.</p>
<h2 id="default-implementations"><a class="doc-anchor" href="#default-implementations">§</a>Default Implementations</h2>
<p>The <code>embed()</code> method has a default implementation that delegates to
<code>embed_batch()</code> with a single item. Providers only need to implement
<code>embed_batch()</code> unless custom single-item optimization is needed.</p>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>mcb_domain::ports::EmbeddingProvider;
<span class="kw">use </span>std::sync::Arc;

<span class="kw">async fn </span>embed_code(provider: Arc&lt;<span class="kw">dyn </span>EmbeddingProvider&gt;) -&gt; mcb_domain::Result&lt;()&gt; {
    <span class="comment">// Generate embedding for code
    </span><span class="kw">let </span>embedding = provider.embed(<span class="string">"fn main() { println!(\"Hello\"); }"</span>).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="macro">println!</span>(<span class="string">"Embedding dimensions: {}"</span>, provider.dimensions());

    <span class="comment">// Batch processing for efficiency
    </span><span class="kw">let </span>texts = <span class="macro">vec!</span>[<span class="string">"fn foo() {}"</span>.into(), <span class="string">"fn bar() {}"</span>.into()];
    <span class="kw">let </span>embeddings = provider.embed_batch(<span class="kw-2">&amp;</span>texts).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="macro">println!</span>(<span class="string">"Got {} embeddings"</span>, embeddings.len());
    <span class="prelude-val">Ok</span>(())
}</code></pre></div></div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.embed_batch" class="method"><a class="src rightside" href="../src/mcb_domain/ports/providers/embedding.rs.html#57">Source</a><h4 class="code-header">fn <a href="#tymethod.embed_batch" class="fn">embed_batch</a>&lt;'life0, 'life1, 'async_trait&gt;(
    &amp;'life0 self,
    texts: &amp;'life1 [<a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>],
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.93.1/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../mcb_domain/value_objects/embedding/struct.Embedding.html" title="struct mcb_domain::value_objects::embedding::Embedding">Embedding</a>&gt;, <a class="enum" href="enum.Error.html" title="enum mcb_providers::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    'life1: 'async_trait,
    Self: 'async_trait,</div></h4></section></summary><div class="docblock"><p>Get embeddings for multiple texts (must be implemented by provider)</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.dimensions" class="method"><a class="src rightside" href="../src/mcb_domain/ports/providers/embedding.rs.html#63">Source</a><h4 class="code-header">fn <a href="#tymethod.dimensions" class="fn">dimensions</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.93.1/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Get the dimensionality of embeddings produced by this provider</p>
<h5 id="returns"><a class="doc-anchor" href="#returns">§</a>Returns</h5>
<p>The number of dimensions in each embedding vector</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.provider_name" class="method"><a class="src rightside" href="../src/mcb_domain/ports/providers/embedding.rs.html#69">Source</a><h4 class="code-header">fn <a href="#tymethod.provider_name" class="fn">provider_name</a>(&amp;self) -&gt; &amp;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/std/primitive.str.html">str</a></h4></section></summary><div class="docblock"><p>Get the name/identifier of this provider implementation</p>
<h5 id="returns-1"><a class="doc-anchor" href="#returns-1">§</a>Returns</h5>
<p>A string identifier for the provider (e.g., “openai”, “ollama”, “anthropic”)</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.embed" class="method"><a class="src rightside" href="../src/mcb_domain/ports/providers/embedding.rs.html#44">Source</a><h4 class="code-header">fn <a href="#method.embed" class="fn">embed</a>&lt;'life0, 'life1, 'async_trait&gt;(
    &amp;'life0 self,
    text: &amp;'life1 <a class="primitive" href="https://doc.rust-lang.org/1.93.1/std/primitive.str.html">str</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.93.1/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../mcb_domain/value_objects/embedding/struct.Embedding.html" title="struct mcb_domain::value_objects::embedding::Embedding">Embedding</a>, <a class="enum" href="enum.Error.html" title="enum mcb_providers::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    'life1: 'async_trait,
    Self: 'async_trait,</div></h4></section></summary><div class="docblock"><p>Get embedding for a single text (default implementation provided)</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.health_check" class="method"><a class="src rightside" href="../src/mcb_domain/ports/providers/embedding.rs.html#44">Source</a><h4 class="code-header">fn <a href="#method.health_check" class="fn">health_check</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.93.1/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.93.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum mcb_providers::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: 'async_trait,</div></h4></section></summary><div class="docblock"><p>Health check for the provider (default implementation provided)</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-EmbeddingProvider-for-AnthropicEmbeddingProvider" class="impl"><a class="src rightside" href="../src/mcb_providers/embedding/anthropic.rs.html#96-104">Source</a><a href="#impl-EmbeddingProvider-for-AnthropicEmbeddingProvider" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.EmbeddingProvider.html" title="trait mcb_providers::EmbeddingProvider">EmbeddingProvider</a> for <a class="struct" href="embedding/anthropic/struct.AnthropicEmbeddingProvider.html" title="struct mcb_providers::embedding::anthropic::AnthropicEmbeddingProvider">AnthropicEmbeddingProvider</a></h3></section><section id="impl-EmbeddingProvider-for-FastEmbedProvider" class="impl"><a class="src rightside" href="../src/mcb_providers/embedding/fastembed.rs.html#100-128">Source</a><a href="#impl-EmbeddingProvider-for-FastEmbedProvider" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.EmbeddingProvider.html" title="trait mcb_providers::EmbeddingProvider">EmbeddingProvider</a> for <a class="struct" href="embedding/fastembed/struct.FastEmbedProvider.html" title="struct mcb_providers::embedding::fastembed::FastEmbedProvider">FastEmbedProvider</a></h3></section><section id="impl-EmbeddingProvider-for-GeminiEmbeddingProvider" class="impl"><a class="src rightside" href="../src/mcb_providers/embedding/gemini.rs.html#115-141">Source</a><a href="#impl-EmbeddingProvider-for-GeminiEmbeddingProvider" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.EmbeddingProvider.html" title="trait mcb_providers::EmbeddingProvider">EmbeddingProvider</a> for <a class="struct" href="embedding/gemini/struct.GeminiEmbeddingProvider.html" title="struct mcb_providers::embedding::gemini::GeminiEmbeddingProvider">GeminiEmbeddingProvider</a></h3><div class="docblock"><p>Google Gemini implementation of the <code>EmbeddingProvider</code> trait.</p>
</div></section><section id="impl-EmbeddingProvider-for-OllamaEmbeddingProvider" class="impl"><a class="src rightside" href="../src/mcb_providers/embedding/ollama.rs.html#133-162">Source</a><a href="#impl-EmbeddingProvider-for-OllamaEmbeddingProvider" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.EmbeddingProvider.html" title="trait mcb_providers::EmbeddingProvider">EmbeddingProvider</a> for <a class="struct" href="embedding/ollama/struct.OllamaEmbeddingProvider.html" title="struct mcb_providers::embedding::ollama::OllamaEmbeddingProvider">OllamaEmbeddingProvider</a></h3></section><section id="impl-EmbeddingProvider-for-OpenAIEmbeddingProvider" class="impl"><a class="src rightside" href="../src/mcb_providers/embedding/openai.rs.html#94-102">Source</a><a href="#impl-EmbeddingProvider-for-OpenAIEmbeddingProvider" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.EmbeddingProvider.html" title="trait mcb_providers::EmbeddingProvider">EmbeddingProvider</a> for <a class="struct" href="embedding/openai/struct.OpenAIEmbeddingProvider.html" title="struct mcb_providers::embedding::openai::OpenAIEmbeddingProvider">OpenAIEmbeddingProvider</a></h3></section><section id="impl-EmbeddingProvider-for-VoyageAIEmbeddingProvider" class="impl"><a class="src rightside" href="../src/mcb_providers/embedding/voyageai.rs.html#100-107">Source</a><a href="#impl-EmbeddingProvider-for-VoyageAIEmbeddingProvider" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.EmbeddingProvider.html" title="trait mcb_providers::EmbeddingProvider">EmbeddingProvider</a> for <a class="struct" href="embedding/voyageai/struct.VoyageAIEmbeddingProvider.html" title="struct mcb_providers::embedding::voyageai::VoyageAIEmbeddingProvider">VoyageAIEmbeddingProvider</a></h3></section></div><script src="../trait.impl/mcb_domain/ports/providers/embedding/trait.EmbeddingProvider.js" async></script></section></div></main></body></html>