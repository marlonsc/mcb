{{#*inline "page"}}
<div class="breadcrumb">
    <a href="/ui/entities">Entities</a>
    <span class="separator">/</span>
    <a href="/ui/entities/{{entity_slug}}">{{title}}</a>
    <span class="separator">/</span>
    <span>{{truncate_id entity_id}}</span>
</div>

<div class="mb-8 flex items-center justify-between">
    <div>
        <h1 class="text-3xl font-bold text-primary">{{title}}</h1>
        <p class="mt-2 text-secondary">
            {{{status_badge entity_group}}}
            <span class="badge badge-gray ml-2" title="{{entity_id}}">{{truncate_id entity_id 12}}</span>
        </p>
    </div>
    <div class="flex gap-3">
        <a class="btn btn-primary" href="/ui/entities/{{entity_slug}}/{{entity_id}}/edit">Edit</a>
        <a class="btn btn-danger" href="/ui/entities/{{entity_slug}}/{{entity_id}}/delete">Delete</a>
        <a class="btn btn-secondary" href="/ui/entities/{{entity_slug}}">Back to List</a>
    </div>
</div>

{{#if has_record}}
<div class="card" style="max-width: 48rem;">
    <dl>
        {{#each fields}}
        <div class="detail-row flex py-3" style="border-bottom: 1px solid var(--border-color, #e5e7eb);">
            <dt class="w-1/3 font-semibold text-sm" style="color: var(--text-secondary);">{{label}}</dt>
            <dd class="w-2/3">
                {{#if is_timestamp}}
                    {{timestamp (lookup ../record name)}}
                    <span class="text-xs ml-2" style="color: var(--text-muted);">({{relative_time (lookup ../record name)}})</span>
                {{else if is_select}}
                    {{{status_badge (lookup ../record name)}}}
                {{else if is_textarea}}
                    {{{json_pretty (lookup ../record name)}}}
                {{else if is_checkbox}}
                    {{#if (lookup ../record name)}}
                        <span class="badge badge-green">Yes</span>
                    {{else}}
                        <span class="badge badge-gray">No</span>
                    {{/if}}
                {{else}}
                    {{#if (lookup ../record name)}}
                        {{lookup ../record name}}
                    {{else}}
                        <span style="color: var(--text-muted);">&mdash;</span>
                    {{/if}}
                {{/if}}
            </dd>
        </div>
        {{/each}}
    </dl>
</div>
{{else}}
<div class="card" style="max-width: 48rem;">
    <p class="text-secondary text-center py-8">
        Record <strong>{{entity_id}}</strong> not found.
    </p>
</div>
{{/if}}
{{/inline}}
{{> admin/layout}}
