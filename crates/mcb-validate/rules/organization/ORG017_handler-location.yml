schema: "rule/v2"
id: ORG017
name: Handler Location
category: organization
severity: warning
description: Handlers (struct *Handler) must be defined in server/handlers, admin, or tools.
rationale: Handlers should be organized by their function within the server layer.
engine: regex
rule:
  type: regex_scan
config:
  patterns:
    handler_struct: '(?:pub\s+)?struct\s+([A-Z][a-zA-Z0-9_]*Handler)'
filters:
  file_patterns:
    - "crates/mcb-server/src/**/*.rs"
  skip:
    file_patterns:
      - "**/handlers/**"
      - "**/admin/**"
      - "**/tools/**"
      - "**/mod.rs"
      - "**/lib.rs"
      - "**/tests/**"
