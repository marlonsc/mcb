schema: "rule/v1"
id: "CA005"
name: "Entity Identity Marker"
category: "architecture"
severity: "warning"
enabled: true
engine: "rust-rule-engine"

description: "Entities should have an identity field (id, uuid)"
rationale: "Entities are defined by their identity, not their attributes"

rule: |
  rule EntityIdentity "Entity Identity Marker" {
      when
          Entity() &&
          !HasField(name in ["id", "uuid", "entity_id"])
      then
          Violation("Entities should have an identity field (id, uuid)");
  }