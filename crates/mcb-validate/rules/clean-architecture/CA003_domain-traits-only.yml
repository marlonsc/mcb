schema: "rule/v1"
id: "CA003"
name: "Domain Contains Only Traits"
category: "architecture"
severity: "error"
enabled: true
engine: "rust-rule-engine"

description: "Domain layer should only contain traits and value objects"
rationale: "Implementations belong in infrastructure/providers layers"

rule: |
  rule DomainTraitsOnly "Domain Contains Only Traits" {
      when
          Crate(name == "mcb-domain") &&
          File(path contains "src/") &&
          (Struct() || Impl() || Function()) &&
          !Trait() &&
          !ValueObject()
      then
          Violation("Domain layer should only contain traits and value objects");
  }